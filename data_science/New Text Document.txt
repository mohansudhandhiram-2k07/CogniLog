import pandas as pd
import matplotlib.pyplot as plt
from datetime import datetime

# 1. Load the data
df = pd.read_csv("focus_data.csv")

# 2. Convert Unix Timestamp to Human Readable Date
df['Date'] = pd.to_datetime(df['Unix_Timestamp'], unit='s')

# 3. Plotting
plt.figure(figsize=(10, 6))
plt.plot(df['Date'], df['Duration_Sec'], marker='o', linestyle='-', color='b')

plt.title('CogniLog: Focus Session Trends')
plt.xlabel('Time of Session')
plt.ylabel('Duration (Seconds)')
plt.grid(True)
plt.xticks(rotation=45)
plt.tight_layout()

# Save the insight
plt.savefig("focus_trend.png")
print("[*] Analytics complete. Check 'focus_trend.png' for your insights!")
plt.show()